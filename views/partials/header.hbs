<script rel="stylesheet" type="text/javascript" src="/js/script.js"></script>

<nav id="header" class="navbar form-inline px-4 shadow d-{{header}}
    shadow-sm" style="border-radius: 0 0 20px 20px; ">
    <div class="d-flex">
        <a class="d-flex navbar-brand px-2 fs-5 fw-semibold" href="/class?year={{CurYear}}&semester={{CurSem}}">
            <img class="mx-3" src="/images/education.png" width="40" height="40" class="d-inline-block align-top"
                alt="">
            {{!-- <div class="mt-2 fs-4 fw-bold" style="color: black;">QLHSC3</div> --}}
        </a>

        <div class="mt-2">
            <a class="btn" role="button" href="/class?year={{CurYear}}&semester={{CurSem}}"
                style="width: 80; border-radius: 20px; background-color: #D9D9D9;">
                Lớp học</a>
            <a class="btn" role="button" href="/course?year={{CurYear}}&semester={{CurSem}}"
                style="width: 80; border-radius: 20px; background-color: #D9D9D9;">
                Môn học</a>
            <a class="btn" role="button" href="/search?year={{CurYear}}&semester={{CurSem}}"
                style="width: 80; border-radius: 20px; background-color: #D9D9D9;">
                Tìm kiếm</a>
            <a class="btn" role="button" href="/setting/edit?year={{CurYear}}&semester={{CurSem}}"
                style="width: 80; border-radius: 20px; background-color: #D9D9D9;">
                Quy định</a>
            <a class="btn" role="button" href="/summary?year={{CurYear}}&semester={{CurSem}}"
                style="width: 80; border-radius: 20px; background-color: #D9D9D9;">
                Tổng kết</a>
        </div>
    </div>


    <div class="d-flex">
        <div class="d-flex mt-3">
            <div class="mt-1" style="font-size: 13px;">Năm học: </div>
            <div class="dropdown mx-2">
                <button type="button" class="btn dropdown-toggle py-1 fw-bold" data-bs-toggle="dropdown"
                    aria-expanded="false" style="background-color: #F4F4F4 ; font-size: 13px; border-radius: 20px; border-color: #D9D9D9;
                    width: 110px;" id="yearmenu_btn">
                </button>
                <div class="dropdown-menu dropdown-menu-end" id="yearmenu-dropdown" style="min-width: 110px;"
                    data-year={{CurYear}}>
                    {{#each Years}}
                    <button class="dropdown-item" onclick="changeYear(this)"
                        style="font-size: 12px; text-align: center;">{{_year}}</button>
                    {{/each}}
                    <button class="dropdown-item" data-bs-toggle="modal" data-bs-target="#addYearModal"
                        style="font-size: 12px; text-align: center;">+</button>
                </div>
            </div>
        </div>
        <div class="d-flex mt-3">
            <div class="mt-1" style="font-size: 13px;">Học kỳ: </div>
            <div class="mx-2">
                <select class="py-1 px-3 fw-bold" aria-label=".form-select-lg example" id="semmenu-select"
                    style="background-color: #F4F4F4 ; font-size: 13px; border-radius: 20px; border-color: #D9D9D9;"
                    data-semester={{CurSem}} onchange="changeSem(this)">
                    <option value="1" style="font-size: 13px;">1</option>
                    <option value="2" style="font-size: 13px;">2</option>
                </select>
            </div>
        </div>
        <a href="/logout" class="mt-4 mx-2" style="font-size: 13px; color: red;">Đăng xuất</a>
    </div>
</nav>

{{!-- ADD YEAR MODEL --}}
<div class="modal fade" id="addYearModal" tabindex="-1" aria-labelledby="addYearModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title container-fluid" style="text-align: center; ">
                    <h1 class=" fs-5" id="addYearModalLabel">TẠO NĂM HỌC MỚI</h1>
                </div>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="/setting/add_year?year={{CurYear}}&semester={{CurSem}}" method="post" id="addYearForm">
                    <div class="d-flex my-3">
                        <label for="start_year" class="form-label mt-1" style="width: 120px;">Năm bắt đầu :</label>
                        <input type="number" class="form-control text-center" id="start_year" name="start_year"
                            style="width: 120px;" value="2023" step="1">
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="submit" form="addYearForm" class="btn btn-success">Tạo mới</button>
            </div>
        </div>
    </div>
</div>
{{#if message}}
<div class="alert alert-secondary alert-dismissible fade show position-absolute start-50 translate-middle shadow m-4" role="alert"
    style="width:fit-content;bottom:-20px;z-index: 100;">
    <div>
        {{message}}
    </div>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
{{/if}}

<script rel="stylesheet" type="text/javascript" src="/js/script.js"></script>